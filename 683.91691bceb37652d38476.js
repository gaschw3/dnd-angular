(self.webpackChunkdnd_angular=self.webpackChunkdnd_angular||[]).push([[683],{8683:function(e,t,n){"use strict";n.r(t),n.d(t,{ItemsModule:function(){return _}});var r=n(5425),i=n(2166),a=n(5767),o=n(5200),s={G:"adventuring gear",TG:"trade good",FD:"food & drink",TAH:"tack & harness",AT:"artisan's tools",GS:"gaming set",T:"tool",INS:"musical instrument",MNT:"mount",AIR:"vehicle (air)",VEH:"vehicle (land)",SHP:"vehicle (water)",$:"treasure",M:"melee weapon",R:"ranged weapon",A:"ammunition",LA:"light armor",MA:"medium armor",HA:"heavy armor",RG:"ring",RD:"rod",WD:"wand",S:"shield",SCF:"spellcasting focus",AEN:"armor enchantment",WEN:"weapon enchantment",P:"consumable",SC:"consumable",EXP:"consumable",WON:"wondrous item",OTH:"other",SB:"spellbook"},u=n(8588),p=n(1116),c=n(7557);function l(e,t){1&e&&(u.ynx(0),u._uU(1,","),u.BQk())}function m(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"span"),u._uU(2),u.ALo(3,"number"),u.qZA(),u.YNc(4,l,2,0,"ng-container",0),u.BQk()),2&e){var n=u.oxw(2);u.xp6(1),u.Tol("text--"+(n.item.value/100>=1?"gp":n.item.value/10>=1?"sp":"cp")),u.xp6(1),u.AsE(" ",u.Dn7(3,5,n.item.value/100>=1?n.item.value/100:n.item.value/10>=1?n.item.value/10:n.item.value,"1.0","en-US")," ",n.item.value/100>=1?"gp":n.item.value/10>=1?"sp":"cp"," "),u.xp6(2),u.Q6J("ngIf",n.item.value&&n.item.weight)}}function g(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){var n=u.oxw(2);u.xp6(1),u.hij(" ",n.item.weight+" lbs."," ")}}function d(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){var n=u.oxw(2);u.xp6(1),u.hij(" ",n.getItemDamage(n.item)," ")}}function f(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div"),u.ALo(4,"lowercase"),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"h1"),u.ALo(8,"lowercase"),u._uU(9),u.qZA(),u.qZA(),u.TgZ(10,"div",4),u.TgZ(11,"h3"),u.ALo(12,"lowercase"),u._uU(13),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"div",3),u.TgZ(15,"div",4),u.TgZ(16,"h5"),u.TgZ(17,"em"),u._uU(18),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",5),u.TgZ(20,"div",4),u.TgZ(21,"p",6),u.YNc(22,m,5,9,"ng-container",0),u.YNc(23,g,2,1,"ng-container",0),u.qZA(),u.qZA(),u.TgZ(24,"div",4),u.TgZ(25,"p",7),u.YNc(26,d,2,1,"ng-container",0),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"div",8),u.TgZ(28,"div",4),u._UZ(29,"entry-renderer",9),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&e){var n=u.oxw();u.xp6(3),u.Tol(u.lcZ(4,14,"item-header item-header-"+n.item.id)),u.xp6(4),u.Tol(u.lcZ(8,16,"color-primary")),u.xp6(2),u.Oqu(n.item.name),u.xp6(2),u.Tol(u.lcZ(12,18,"pull-right color-"+n.item.source)),u.xp6(2),u.Oqu(n.item.source),u.xp6(5),u.Oqu(n.getItemInfo(n.item)),u.xp6(4),u.Q6J("ngIf",n.item.value),u.xp6(1),u.Q6J("ngIf",n.item.weight),u.xp6(3),u.Q6J("ngIf",n.item.dmg1),u.xp6(3),u.Q6J("list",n.item.entries)("parent","")}}var h=function(){function e(){this.damageType={B:"bludgeoning",P:"piercing",S:"slashing"},this.itemProps={A:"ammunition",F:"finesse","2H":"two-handed",L:"light",H:"heavy",R:"reach",S:"special",LD:"loading",V:"versatile"}}return e.prototype.isSimpleList=function(e){return"string"==typeof e[0]},e.prototype.getEntryType=function(e){return e.type?"list"==e.type?"list":"table"==e.type?"table":"item"==e.type?"item":"entries"==e.type?"entries":void 0:""},e.prototype.getItemDamage=function(e){var t=this,n="";if(n+=e.dmg1,n+=" "+this.damageType[e.dmgType],e.property){var r=[];e.property.forEach(function(n){switch(n){case"A":r.push("ammunition ("+e.range+")");break;case"T":r.push("thrown ("+e.range+")");break;case"T":r.push("versatile ("+e.dmg2+")");break;default:r.push(t.itemProps[n])}}),n+=" - "+r.join(", ")}return n},e.prototype.getItemInfo=function(e){var t=[];return t.push(this.getItemType(e)),t.push(this.getItemRarity(e)),t.filter(Boolean).join(", ")},e.prototype.getItemType=function(e){var t="";if(e.wondrous&&e.type)t+="Wondrous item, ";else if(e.wondrous)return"Wondrous item";switch(e.type){case"M":e.weaponCategory&&e.baseItem?t+=e.weaponCategory+" melee weapon ("+e.baseItem+")":e.weaponCategory?t+=e.weaponCategory+" melee weapon":e.baseItem&&(t+="melee weapon("+e.baseItem+")");break;case"R":e.weaponCategory&&e.baseItem?t+=e.weaponCategory+" ranged weapon ("+e.baseItem+")":e.weaponCategory?t+=e.weaponCategory+" ranged weapon":e.baseItem&&(t+="ranged weapon ("+e.baseItem+")");break;case"HA":case"MA":case"LA":t+=e.baseItem?s[e.type]+" ("+e.baseItem+")":s[e.type];break;default:t+=s[e.type]}return t.charAt(0).toUpperCase()+t.slice(1)},e.prototype.getItemRarity=function(e){var t="";return e.rarity&&"none"!==e.rarity&&(t+=e.rarity),e.reqAttune&&(t+=1==e.reqAttune?" (requires attunement)":" (requires attunement "+e.reqAttune+")"),t},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-item"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"row","border-bottom-primary"],[1,"pb-0","mb-2"],[1,"pb-0","mb-2","pull-right"],[1,"mt-2","feature-text","row"],[3,"list","parent"]],template:function(e,t){1&e&&u.YNc(0,f,30,20,"ng-container",0),2&e&&u.Q6J("ngIf",t.item)},directives:[p.O5,c.P],pipes:[p.i8,p.JJ],styles:[""]}),e}(),Z=n(2693);function y(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.ALo(2,"number"),u.qZA()),2&e){var n=u.oxw().$implicit;u.Tol("text--"+(n.value/100>=1?"gp":n.value/10>=1?"sp":"cp")),u.uIk("data-sort",n.value),u.xp6(1),u.AsE(" ",u.Dn7(2,5,n.value/100>=1?n.value/100:n.value/10>=1?n.value/10:n.value,"1.0","en-US")," ",n.value/100>=1?"gp":n.value/10>=1?"sp":"cp"," ")}}function v(e,t){1&e&&u._UZ(0,"td"),2&e&&u.uIk("data-sort",0)}function A(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr",20),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw(2).setCurrItem(e)}),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.ALo(5,"titlecase"),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.YNc(8,y,3,9,"td",21),u.YNc(9,v,1,1,"td",22),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td",18),u.ALo(13,"lowercase"),u._uU(14),u.qZA(),u.qZA()}if(2&e){var r=t.$implicit,i=u.oxw(2);u.ekj("table-active",(null==i.currItem?null:i.currItem.id)==r.id),u.xp6(2),u.Oqu(r.name),u.xp6(2),u.Oqu(u.lcZ(5,12,i.getItemType(r))),u.xp6(3),u.Oqu(r.reqAttune?"X":""),u.xp6(1),u.Q6J("ngIf",r.value),u.xp6(1),u.Q6J("ngIf",!r.value),u.xp6(1),u.uIk("data-sort",i.getRaritySort(r.rarity)),u.xp6(1),u.Oqu(r.rarity),u.xp6(1),u.Tol(u.lcZ(13,14,"text-right color-"+r.source)),u.xp6(2),u.Oqu(r.source)}}function T(e,t){if(1&e&&(u.TgZ(0,"div",5),u.TgZ(1,"table",6),u.TgZ(2,"thead"),u.TgZ(3,"tr"),u.TgZ(4,"th",7),u.TgZ(5,"div",8),u.TgZ(6,"div",9),u.TgZ(7,"span",10),u._UZ(8,"i",11),u.qZA(),u.qZA(),u._UZ(9,"input",12),u.qZA(),u.qZA(),u.TgZ(10,"th",7),u.TgZ(11,"div",8),u._UZ(12,"input",13),u.qZA(),u.qZA(),u.TgZ(13,"th",7),u.TgZ(14,"div",8),u._UZ(15,"input",14),u.qZA(),u.qZA(),u.TgZ(16,"th",7),u.TgZ(17,"div",8),u._UZ(18,"input",15),u.qZA(),u.qZA(),u.TgZ(19,"th",7),u.TgZ(20,"div",8),u._UZ(21,"input",16),u.qZA(),u.qZA(),u.TgZ(22,"th",7),u.TgZ(23,"div",8),u._UZ(24,"input",17),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"tr"),u.TgZ(26,"th"),u._uU(27,"Name"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Type"),u.qZA(),u.TgZ(30,"th"),u._uU(31,"Attun."),u.qZA(),u.TgZ(32,"th"),u._uU(33,"Value"),u.qZA(),u.TgZ(34,"th"),u._uU(35,"Rarity"),u.qZA(),u.TgZ(36,"th",18),u._uU(37,"Source"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"tbody"),u.YNc(39,A,15,16,"tr",19),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw();u.xp6(1),u.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),u.xp6(38),u.Q6J("ngForOf",n.shownItems)}}function w(e,t){if(1&e&&u._UZ(0,"app-item",23),2&e){var n=u.oxw();u.Q6J("item",n.currItem)}}var I=function(e){return{active:e}},q=function(){function e(e,t,n){this.http=e,this.route=t,this.location=n,this.dtTrigger=new a.xQ}return e.prototype.getJSON=function(){return this.http.get("assets/data/items.json")},e.prototype.ngOnInit=function(){var e=this;this.dtOptions={columnDefs:[{width:"60%",targets:0},{width:"20%",targets:1},{width:"20%",targets:2}],autoWidth:!1,dom:"trlp",orderMulti:!0,pagingType:"full_numbers",searching:!0,language:{lengthMenu:'Show <select><option value="10">10</option><option value="15">15</option><option value="20">30</option><option value="60">60</option><option value="-1">All</option></select> items',paginate:{first:"<<",last:">>",next:">",previous:"<"}},initComplete:function(e,t){this.api().columns().every(function(){var e=this,t=$(e.header()),n=t.parent().prev().children().get(t.index());$(":input",n).off("keyup change search").on("keyup change search",function(t){var n=$(this).val();e.search()!==n&&e.search(n).draw()}).trigger("change")})}},this.getJSON().subscribe(function(t){e.items=t,e.items.sort(function(e,t){return e.name<t.name?-1:1}),e.treasure=e.items.filter(function(e){return!!e.type&&e.type.includes("$")}),e.normal=e.items.filter(function(e){return!!e.type&&!e.type.includes("$")&&e.rarity.includes("none")}),e.magic=e.items.filter(function(e){return!e.type||!e.type.includes("$")&&!e.rarity.includes("none")}),e.shownItems=e.magic,e.selected="magic",e.route.paramMap.subscribe(function(t){e.currItem=e.items.find(function(t){return t.id==e.route.snapshot.params.itemName})}),setTimeout(function(){e.dtTrigger.next()})})},e.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},e.prototype.setCurrItem=function(e){this.currItem=e,this.location.go("/items/"+this.currItem.id)},e.prototype.setItems=function(e){var t=this;if(e!=this.selected){switch(e){case"magic":this.shownItems=this.magic;break;case"normal":this.shownItems=this.normal;break;case"treasure":this.shownItems=this.treasure;break;case"all":this.shownItems=this.items}this.dtElement.dtInstance.then(function(e){e.destroy(),t.dtTrigger.next()}),this.selected=e}},e.prototype.getValueSort=function(e){return e||1},e.prototype.getRaritySort=function(e){switch(e){case"none":return 0;case"common":return 1;case"uncommon":return 2;case"rare":return 3;case"very rare":return 4;case"legendary":return 5;case"artifact":return 6}return 0},e.prototype.getItemType=function(e){var t="";if(e.wondrous&&e.type)t+="Wondrous Item, ";else if(e.wondrous)return"Wondrous Item";switch(e.type){case"M":e.weaponCategory&&e.baseItem?t+=e.weaponCategory+" Melee Weapon ("+e.baseItem+")":e.weaponCategory?t+=e.weaponCategory+" Melee Weapon":e.baseItem&&(t+="Melee Weapon("+e.baseItem+")");break;case"R":e.weaponCategory&&e.baseItem?t+=e.weaponCategory+" Ranged Weapon ("+e.baseItem+")":e.weaponCategory?t+=e.weaponCategory+" Ranged Weapon":e.baseItem&&(t+="Ranged Weapon("+e.baseItem+")");break;default:t+=s[e.type]}return t},e.\u0275fac=function(t){return new(t||e)(u.Y36(Z.eN),u.Y36(i.gz),u.Y36(p.Ye))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-items"]],viewQuery:function(e,t){if(1&e&&(u.Gf(h,5),u.Gf(o.G,5)),2&e){var n=void 0;u.iGM(n=u.CRH())&&(t.child=n.first),u.iGM(n=u.CRH())&&(t.dtElement=n.first)}},decls:14,vars:14,consts:[[1,"table-type","p-3"],["role","button",1,"btn","btn-primary","p-2","m-1",3,"ngClass","click"],[1,"row"],["class","col items-table",4,"ngIf"],[3,"item",4,"ngIf"],[1,"col","items-table"],["id","tbl-items","datatable","",1,"table","table-hover","table-condensed",3,"dtOptions","dtTrigger"],["colspan","1",1,"item-filter"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["id","item-name-filter","type","search","placeholder","Filter Items",1,"form-control"],["id","item-prof-filter","type","search","placeholder","Type",1,"form-control"],["id","item-attune-filter","type","search","placeholder","Attunement",1,"form-control"],["id","item-value-filter","type","search","placeholder","Value",1,"form-control"],["id","item-rarity-filter","type","search","placeholder","Rarity",1,"form-control"],["id","item-source-filter","type","search","placeholder","Source",1,"form-control"],[1,"text-right"],[3,"table-active","click",4,"ngFor","ngForOf"],[3,"click"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"item"]],template:function(e,t){1&e&&(u.TgZ(0,"h1"),u._uU(1,"D&D 5e Items"),u.qZA(),u.TgZ(2,"div",0),u.TgZ(3,"button",1),u.NdJ("click",function(){return t.setItems("all")}),u._uU(4,"All"),u.qZA(),u.TgZ(5,"button",1),u.NdJ("click",function(){return t.setItems("magic")}),u._uU(6,"Magic Items"),u.qZA(),u.TgZ(7,"button",1),u.NdJ("click",function(){return t.setItems("normal")}),u._uU(8,"Adventuring Supplies"),u.qZA(),u.TgZ(9,"button",1),u.NdJ("click",function(){return t.setItems("treasure")}),u._uU(10,"Treasure"),u.qZA(),u.qZA(),u.TgZ(11,"div",2),u.YNc(12,T,40,3,"div",3),u.qZA(),u.YNc(13,w,1,1,"app-item",4)),2&e&&(u.xp6(3),u.Q6J("ngClass",u.VKq(6,I,"all"==t.selected)),u.xp6(2),u.Q6J("ngClass",u.VKq(8,I,"magic"==t.selected)),u.xp6(2),u.Q6J("ngClass",u.VKq(10,I,"normal"==t.selected)),u.xp6(2),u.Q6J("ngClass",u.VKq(12,I,"treasure"==t.selected)),u.xp6(3),u.Q6J("ngIf",t.shownItems),u.xp6(1),u.Q6J("ngIf",t.currItem))},directives:[p.mk,p.O5,o.G,p.sg,h],pipes:[p.rS,p.i8,p.JJ],styles:[".item-filter[_ngcontent-%COMP%]{padding:0}.item-table[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}"]}),e}(),b=[{path:"",component:q},{path:":itemName",component:q}],x=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(b)],i.Bz]}),e}(),_=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.m,x]]}),e}()}}]);