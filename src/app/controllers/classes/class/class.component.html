<div>
  <div class="row" *ngIf="class">
    <div class="col-12">
      <h2 class="text-center text-success">{{class.name}}</h2>
      <div class="col-md-6 offset-md-3">
        <p class="text-center">{{class.description}}</p>
      </div>
      <app-archetypes [archetypes]="this.getArchetypes()" [(selectedArchetypes)]="selectedArchetypes"></app-archetypes>
    </div>
    <div class="class-info col-md-4">
      <div class="card">
        <div class="card-body">
            <h4 class="text-success">Hit Points</h4>
            <div><strong>Hit Dice: </strong>1d{{class.hd}}</div>
            <div><strong>HP at 1st Level: </strong>{{class.hd}} + CON</div>
            <div><strong>HP at Higher Levels: </strong>(1d{{class.hd}} + CON) per {{class.name}} level after first</div>

            <h4 class="text-success mt-3 mb-0">Proficiencies</h4>
            <p>You are proficient with the following items, in addition to any proficiencies provided by your race or background.</p>
            <ng-container *ngIf="prof">
              <div><strong>Armor: </strong>{{prof?.armor}}</div>
              <div><strong>Weapons: </strong>{{prof?.weapons}}</div>
              <div><strong>Tools: </strong>{{prof?.tools}}</div>
              <div><strong>Saves: </strong>{{prof?.saves}}</div>
              <div><strong>Skills: </strong>{{prof?.skills}}</div>
            </ng-container>

            <h4 class="text-success mt-3 mb-0">Starting Equipment</h4>
            <p>You start with the following items, plus anything provided by your background.</p>
            <ul>
              <ng-container *ngFor="let item of class.equipment.default">
                <li [innerHtml]="item | linkmaker"></li>
              </ng-container>
            </ul>
            <p>Alternatively, you may start with <span class="text--gp">{{class.equipment.alt}} x 10gp</span> to buy your own equipment</p>
        </div>
      </div>
      <div class="list-group features-list sticky-top py-2">
        <h5>Outline (jump to feature)</h5>
        <ng-container *ngFor="let feature of class.features">
            <a *ngIf="feature.subclass == 'base'" 
            [ngClass]="{'active': this.child?.currActive == feature.name}" 
            class="list-group-item list-group-item-action py-2"
            (click)="shake(feature.name)" 
            routerLink="./" fragment="{{feature.name}}">{{feature.title}}</a>
        </ng-container>
      </div>
    </div>
    <div class="class-features col-md-8">
      <app-features [features]="this.getFilteredFeatures()"></app-features>
    </div>
  </div>
</div>