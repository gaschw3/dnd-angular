"use strict";(self.webpackChunkdnd_angular=self.webpackChunkdnd_angular||[]).push([[733],{4733:(N,u,i)=>{i.r(u),i.d(u,{ItemsModule:()=>x});var y=i(3887),m=i(2365),v=i(1413),d=i(668);const c={G:"adventuring gear",TG:"trade good",FD:"food & drink",TAH:"tack & harness",AT:"artisan's tools",GS:"gaming set",T:"tool",INS:"musical instrument",MNT:"mount",AIR:"vehicle (air)",VEH:"vehicle (land)",SHP:"vehicle (water)",$:"treasure",M:"melee weapon",R:"ranged weapon",A:"ammunition",LA:"light armor",MA:"medium armor",HA:"heavy armor",RG:"ring",RD:"rod",WD:"wand",S:"shield",SCF:"spellcasting focus",AEN:"armor enchantment",WEN:"weapon enchantment",P:"consumable",SC:"consumable",EXP:"consumable",WON:"wondrous item",OTH:"other",SB:"spellbook"};var e=i(4438),o=i(177),_=i(5042),h=i(3525);function k(r,l){1&r&&(e.qex(0),e.EFF(1,","),e.bVm())}function w(r,l){if(1&r&&(e.qex(0),e.j41(1,"span"),e.EFF(2),e.nI1(3,"number"),e.k0s(),e.DNE(4,k,2,0,"ng-container",0),e.bVm()),2&r){const t=e.XpG(2);e.R7$(),e.HbH("text--"+(t.item.value/100>=1?"gp":t.item.value/10>=1?"sp":"cp")),e.R7$(),e.Lme(" ",e.brH(3,5,t.item.value/100>=1?t.item.value/100:t.item.value/10>=1?t.item.value/10:t.item.value,"1.0","en-US")," ",t.item.value/100>=1?"gp":t.item.value/10>=1?"sp":"cp"," "),e.R7$(2),e.Y8G("ngIf",t.item.value&&t.item.weight)}}function R(r,l){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.item.weight+" lbs."," ")}}function T(r,l){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.getItemDamage(t.item)," ")}}function F(r,l){if(1&r&&(e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),e.nI1(5,"lowercase"),e.j41(6,"div",4)(7,"div",5),e.nrm(8,"h1",6),e.nI1(9,"lowercase"),e.nI1(10,"sanitizeHtml"),e.k0s(),e.j41(11,"div",5)(12,"h3"),e.nI1(13,"lowercase"),e.EFF(14),e.k0s()()(),e.j41(15,"div",4)(16,"div",5)(17,"h5")(18,"em"),e.EFF(19),e.k0s()()()(),e.j41(20,"div",7)(21,"div",5)(22,"p",8),e.DNE(23,w,5,9,"ng-container",0)(24,R,2,1,"ng-container",0),e.k0s()(),e.j41(25,"div",5)(26,"p",9),e.DNE(27,T,2,1,"ng-container",0),e.k0s()()()(),e.j41(28,"div",10)(29,"div",5),e.nrm(30,"entry-renderer",11),e.k0s()()()()(),e.bVm()),2&r){const t=e.XpG();e.R7$(4),e.HbH(e.bMT(5,14,"item-header item-header-"+t.item.id)),e.R7$(4),e.HbH(e.bMT(9,16,"color-primary")),e.Y8G("innerHtml",e.bMT(10,18,t.item.name),e.npT),e.R7$(4),e.HbH(e.bMT(13,20,"pull-right color-"+t.item.source)),e.R7$(2),e.JRh(t.item.source),e.R7$(5),e.JRh(t.getItemInfo(t.item)),e.R7$(4),e.Y8G("ngIf",t.item.value),e.R7$(),e.Y8G("ngIf",t.item.weight),e.R7$(3),e.Y8G("ngIf",t.item.dmg1),e.R7$(3),e.Y8G("list",t.item.entries)("parent","")}}let g=(()=>{class r{constructor(){this.damageType={B:"bludgeoning",P:"piercing",S:"slashing"},this.itemProps={A:"ammunition",F:"finesse","2H":"two-handed",L:"light",H:"heavy",R:"reach",S:"special",LD:"loading",V:"versatile"}}isSimpleList(t){return"string"==typeof t[0]}getEntryType(t){return t.type?"list"==t.type?"list":"table"==t.type?"table":"item"==t.type?"item":"entries"==t.type?"entries":void 0:""}getItemDamage(t){let n="";if(n+=t.dmg1,n+=" "+this.damageType[t.dmgType],t.property){let s=[];t.property.forEach(a=>{switch(a){case"A":s.push("ammunition ("+t.range+")");break;case"T":s.push("thrown ("+t.range+")");break;case"T":s.push("versatile ("+t.dmg2+")");break;default:s.push(this.itemProps[a])}}),n+=" - "+s.join(", ")}return n}getItemInfo(t){let n=[];return n.push(this.getItemType(t)),n.push(this.getItemRarity(t)),n.filter(Boolean).join(", ")}getItemType(t){let n="";if(t.wondrous&&t.type)n+="Wondrous item, ";else if(t.wondrous)return"Wondrous item";switch(t.type){case"M":t.weaponCategory&&t.baseItem?n+=t.weaponCategory+" melee weapon ("+t.baseItem+")":t.weaponCategory?n+=t.weaponCategory+" melee weapon":t.baseItem&&(n+="melee weapon("+t.baseItem+")");break;case"R":t.weaponCategory&&t.baseItem?n+=t.weaponCategory+" ranged weapon ("+t.baseItem+")":t.weaponCategory?n+=t.weaponCategory+" ranged weapon":t.baseItem&&(n+="ranged weapon ("+t.baseItem+")");break;case"HA":case"MA":case"LA":n+=t.baseItem?c[t.type]+" ("+t.baseItem+")":c[t.type];break;default:n+=c[t.type]}return n.charAt(0).toUpperCase()+n.slice(1)}getItemRarity(t){let n="";return t.rarity&&"none"!==t.rarity&&(n+=t.rarity),t.reqAttune&&(n+=1==t.reqAttune?" (requires attunement)":" (requires attunement "+t.reqAttune+")"),n}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-item"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"pt-2","pb-4"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col"],[3,"innerHtml"],[1,"row","border-bottom-primary"],[1,"pb-0","mb-2"],[1,"pb-0","mb-2","pull-right"],[1,"mt-2","feature-text","row"],[3,"list","parent"]],template:function(n,s){1&n&&e.DNE(0,F,31,22,"ng-container",0),2&n&&e.Y8G("ngIf",s.item)},dependencies:[o.bT,_.b,o.GH,o.QX,h.b]})}return r})();var C=i(1626);const p=r=>({active:r});function j(r,l){if(1&r&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&r){const t=e.XpG().$implicit;e.HbH("text--"+(t.value/100>=1?"gp":t.value/10>=1?"sp":"cp")),e.BMQ("data-sort",t.value),e.R7$(),e.Lme(" ",e.brH(2,5,t.value/100>=1?t.value/100:t.value/10>=1?t.value/10:t.value,"1.0","en-US")," ",t.value/100>=1?"gp":t.value/10>=1?"sp":"cp"," ")}}function G(r,l){1&r&&e.nrm(0,"td"),2&r&&e.BMQ("data-sort",0)}function E(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr",20),e.bIt("click",function(){const s=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.setCurrItem(s))}),e.j41(1,"td",21),e.nI1(2,"sanitizeHtml"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"titlecase"),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.DNE(9,j,3,9,"td",22)(10,G,1,1,"td",23),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td",18),e.nI1(14,"lowercase"),e.EFF(15),e.k0s()()}if(2&r){const t=l.$implicit,n=e.XpG(2);e.AVh("table-active",(null==n.currItem?null:n.currItem.id)==t.id),e.R7$(),e.Y8G("innerHtml",e.bMT(2,13,t.name),e.npT),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(e.bMT(6,15,n.getItemType(t))),e.R7$(3),e.JRh(t.reqAttune?"X":""),e.R7$(),e.Y8G("ngIf",t.value),e.R7$(),e.Y8G("ngIf",!t.value),e.R7$(),e.BMQ("data-sort",n.getRaritySort(t.rarity)),e.R7$(),e.JRh(t.rarity),e.R7$(),e.HbH(e.bMT(14,17,"text-right color-"+t.source)),e.R7$(2),e.JRh(t.source)}}function H(r,l){if(1&r&&(e.j41(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th",7)(5,"div",8)(6,"div",9)(7,"span",10),e.nrm(8,"i",11),e.k0s()(),e.nrm(9,"input",12),e.k0s()(),e.j41(10,"th",7)(11,"div",8),e.nrm(12,"input",13),e.k0s()(),e.j41(13,"th",7)(14,"div",8),e.nrm(15,"input",14),e.k0s()(),e.j41(16,"th",7)(17,"div",8),e.nrm(18,"input",15),e.k0s()(),e.j41(19,"th",7)(20,"div",8),e.nrm(21,"input",16),e.k0s()(),e.j41(22,"th",7)(23,"div",8),e.nrm(24,"input",17),e.k0s()()(),e.j41(25,"tr")(26,"th"),e.EFF(27,"Name"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Type"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Attun."),e.k0s(),e.j41(32,"th"),e.EFF(33,"Value"),e.k0s(),e.j41(34,"th"),e.EFF(35,"Rarity"),e.k0s(),e.j41(36,"th",18),e.EFF(37,"Source"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,E,16,19,"tr",19),e.k0s()()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),e.R7$(38),e.Y8G("ngForOf",t.shownItems)}}function M(r,l){if(1&r&&e.nrm(0,"app-item",24),2&r){const t=e.XpG();e.Y8G("item",t.currItem)}}let f=(()=>{class r{getJSON(){return this.http.get("assets/data/items.json")}constructor(t,n,s){this.http=t,this.route=n,this.location=s,this.dtTrigger=new v.B}ngOnInit(){this.dtOptions={columnDefs:[{width:"60%",targets:0},{width:"20%",targets:1},{width:"20%",targets:2}],autoWidth:!1,scrollX:!0,dom:"trlp",orderMulti:!0,pagingType:"full_numbers",searching:!0,language:{lengthMenu:'Show <select><option value="10">10</option><option value="15">15</option><option value="20">30</option><option value="60">60</option><option value="-1">All</option></select> items',paginate:{first:"<<",last:">>",next:">",previous:"<"}},initComplete:function(t,n){this.api().columns().every(function(){const a=this,I=$(a.header()),Y=I.parent().prev().children().get(I.index());$(":input",Y).off("keyup change search").on("keyup change search",function(D){const b=$(this).val();a.search()!==b&&a.search(b).draw()}).trigger("change")})}},this.getJSON().subscribe(t=>{this.items=t,this.items.sort(function(n,s){return n.name<s.name?-1:1}),this.treasure=this.items.filter(n=>!!n.type&&n.type.includes("$")),this.normal=this.items.filter(n=>!!n.type&&!n.type.includes("$")&&n.rarity.includes("none")),this.magic=this.items.filter(n=>!n.type||!n.type.includes("$")&&!n.rarity.includes("none")),this.shownItems=this.items,this.selected="all",this.route.paramMap.subscribe(n=>{this.currItem=this.items.find(s=>s.id==this.route.snapshot.params.itemName)}),setTimeout(()=>{this.dtTrigger.next(this.dtOptions)})})}ngOnDestroy(){this.dtTrigger.unsubscribe()}setCurrItem(t){this.currItem=t,this.location.go("/items/"+this.currItem.id)}setItems(t){if(t!=this.selected){switch(t){case"magic":this.shownItems=this.magic;break;case"normal":this.shownItems=this.normal;break;case"treasure":this.shownItems=this.treasure;break;case"all":this.shownItems=this.items}this.dtElement.dtInstance.then(n=>{n.destroy(),this.dtTrigger.next(this.dtOptions)}),this.selected=t}}getValueSort(t){return t||1}getRaritySort(t){switch(t){case"none":return 0;case"common":return 1;case"uncommon":return 2;case"rare":return 3;case"very rare":return 4;case"legendary":return 5;case"artifact":return 6}return 0}getItemType(t){let n="";if(t.wondrous&&t.type)n+="Wondrous Item, ";else if(t.wondrous)return"Wondrous Item";switch(t.type){case"M":t.weaponCategory&&t.baseItem?n+=t.weaponCategory+" Melee Weapon ("+t.baseItem+")":t.weaponCategory?n+=t.weaponCategory+" Melee Weapon":t.baseItem&&(n+="Melee Weapon("+t.baseItem+")");break;case"R":t.weaponCategory&&t.baseItem?n+=t.weaponCategory+" Ranged Weapon ("+t.baseItem+")":t.weaponCategory?n+=t.weaponCategory+" Ranged Weapon":t.baseItem&&(n+="Ranged Weapon("+t.baseItem+")");break;default:n+=c[t.type]}return n}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(C.Qq),e.rXU(m.nX),e.rXU(o.aZ))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-items"]],viewQuery:function(n,s){if(1&n&&(e.GBs(g,5),e.GBs(d._,5)),2&n){let a;e.mGM(a=e.lsd())&&(s.child=a.first),e.mGM(a=e.lsd())&&(s.dtElement=a.first)}},decls:14,vars:14,consts:[[1,"table-type","p-3"],["role","button",1,"btn","btn-primary","p-2","m-1",3,"click","ngClass"],[1,"row"],["class","col items-table p-0",4,"ngIf"],[3,"item",4,"ngIf"],[1,"col","items-table","p-0"],["id","tbl-items","datatable","",1,"table","table-hover","table-condensed",3,"dtOptions","dtTrigger"],["colspan","1",1,"item-filter"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["id","item-name-filter","type","search","placeholder","Filter Items",1,"form-control"],["id","item-prof-filter","type","search","placeholder","Type",1,"form-control"],["id","item-attune-filter","type","search","placeholder","Attunement",1,"form-control"],["id","item-value-filter","type","search","placeholder","Value",1,"form-control"],["id","item-rarity-filter","type","search","placeholder","Rarity",1,"form-control"],["id","item-source-filter","type","search","placeholder","Source",1,"form-control"],[1,"text-right"],[3,"table-active","click",4,"ngFor","ngForOf"],[3,"click"],[3,"innerHtml"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"item"]],template:function(n,s){1&n&&(e.j41(0,"h1"),e.EFF(1,"D&D 5e Items"),e.k0s(),e.j41(2,"div",0)(3,"button",1),e.bIt("click",function(){return s.setItems("all")}),e.EFF(4,"All"),e.k0s(),e.j41(5,"button",1),e.bIt("click",function(){return s.setItems("magic")}),e.EFF(6,"Magic Items"),e.k0s(),e.j41(7,"button",1),e.bIt("click",function(){return s.setItems("normal")}),e.EFF(8,"Adventuring Supplies"),e.k0s(),e.j41(9,"button",1),e.bIt("click",function(){return s.setItems("treasure")}),e.EFF(10,"Treasure"),e.k0s()(),e.j41(11,"div",2),e.DNE(12,H,40,3,"div",3),e.k0s(),e.DNE(13,M,1,1,"app-item",4)),2&n&&(e.R7$(3),e.Y8G("ngClass",e.eq3(6,p,"all"==s.selected)),e.R7$(2),e.Y8G("ngClass",e.eq3(8,p,"magic"==s.selected)),e.R7$(2),e.Y8G("ngClass",e.eq3(10,p,"normal"==s.selected)),e.R7$(2),e.Y8G("ngClass",e.eq3(12,p,"treasure"==s.selected)),e.R7$(3),e.Y8G("ngIf",s.shownItems),e.R7$(),e.Y8G("ngIf",s.currItem))},dependencies:[o.YU,o.Sq,o.bT,d._,g,o.GH,o.QX,o.PV,h.b],styles:[".item-filter[_ngcontent-%COMP%]{padding:0}.item-table[_ngcontent-%COMP%]{overflow:auto;padding-top:15px;padding-bottom:15px}"]})}return r})();const S=[{path:"",component:f},{path:":itemName",component:f}];let A=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[m.iI.forChild(S),m.iI]})}return r})(),x=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[y.G,A]})}return r})()}}]);