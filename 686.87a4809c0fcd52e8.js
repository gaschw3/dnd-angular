"use strict";(self.webpackChunkdnd_angular=self.webpackChunkdnd_angular||[]).push([[686],{7686:(O,p,i)=>{i.r(p),i.d(p,{FeatsModule:()=>R});var F=i(3887),u=i(2365),v=i(1413),d=i(668),f=i(3958),y=i(7789),t=i(4438),j=i(1626),l=i(177),b=i(6474);function C(s,h){if(1&s){const e=t.RV6();t.j41(0,"tr",17),t.bIt("click",function(){const a=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.setCurrAncestry(a))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",18),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"titlecaseExcept"),t.k0s(),t.j41(8,"td",15),t.nI1(9,"lowercase"),t.EFF(10),t.k0s()()}if(2&s){const e=h.$implicit,n=t.XpG(2);t.AVh("table-active",(null==n.currFeat?null:n.currFeat.id)==e.id),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.category),t.R7$(2),t.JRh(t.bMT(7,8,e.asi)),t.R7$(2),t.HbH(t.bMT(9,10,"text-right color-"+e.source.replace("+","").replace("-",""))),t.R7$(2),t.JRh(e.source)}}function G(s,h){if(1&s&&(t.j41(0,"div",4)(1,"table",5)(2,"thead")(3,"tr")(4,"th",6)(5,"div",7)(6,"div",8)(7,"span",9),t.nrm(8,"i",10),t.k0s()(),t.nrm(9,"input",11),t.k0s()(),t.j41(10,"th",6)(11,"div",7),t.nrm(12,"input",12),t.k0s()(),t.j41(13,"th",6)(14,"div",7),t.nrm(15,"input",13),t.k0s()(),t.j41(16,"th",6)(17,"div",7),t.nrm(18,"input",14),t.k0s()()(),t.j41(19,"tr")(20,"th"),t.EFF(21,"Name"),t.k0s(),t.j41(22,"th"),t.EFF(23,"Category"),t.k0s(),t.j41(24,"th"),t.EFF(25,"ASI"),t.k0s(),t.j41(26,"th",15),t.EFF(27,"Source"),t.k0s()()(),t.j41(28,"tbody"),t.DNE(29,C,11,12,"tr",16),t.k0s()()()),2&s){const e=t.XpG();t.R7$(),t.Y8G("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),t.R7$(28),t.Y8G("ngForOf",e.feats)}}function T(s,h){if(1&s&&t.nrm(0,"app-feat",19),2&s){const e=t.XpG();t.Y8G("feat",e.currFeat)}}let m=(()=>{class s{getJSON(){return this.http.get("assets/data/2024/feats-small.json")}constructor(e,n,a){this.http=e,this.route=n,this.location=a,this.feats=[],this.dtTrigger=new v.B}ngOnInit(){let e=this.route.queryParams;this.dtOptions={columnDefs:[{width:"50%",targets:0},{width:"10%",targets:1},{width:"30%",targets:2},{width:"10%",targets:3}],autoWidth:!1,scrollX:!0,dom:"trlp",orderMulti:!0,pageLength:20,pagingType:"full_numbers",searching:!0,language:{lengthMenu:'Show <select><option value="20">20</option><option value="45">45</option><option value="-1">All</option></select> feats',paginate:{first:"<<",last:">>",next:">",previous:"<"}},initComplete:function(n,a){const r=this.api();e.subscribe(o=>{for(var c in o)$(`#${c}`).val(o[c])}),r.columns().every(function(){const o=this,c=$(o.header()),I=c.parent().prev().children().get(c.index());$(":input",I).off("keyup change search").on("keyup change search",function(x){const g=$(this).val();o.search()!==g&&o.search(g).draw()}).trigger("change")})}},this.getJSON().subscribe(n=>{n.forEach(a=>this.feats.push(new y.t(a))),this.feats.sort(function(a,r){return a.name<r.name?-1:1}),this.route.paramMap.subscribe(a=>{this.currFeat=this.feats.find(r=>r.id==this.route.snapshot.params.featName)}),setTimeout(()=>{this.dtTrigger.next(this.dtOptions)})})}ngOnDestroy(){this.dtTrigger.unsubscribe()}setCurrAncestry(e){this.currFeat=e,this.location.go("/feats/"+this.currFeat.id)}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(j.Qq),t.rXU(u.nX),t.rXU(l.aZ))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-feats"]],viewQuery:function(n,a){if(1&n&&(t.GBs(f._,5),t.GBs(d._,5)),2&n){let r;t.mGM(r=t.lsd())&&(a.child=r.first),t.mGM(r=t.lsd())&&(a.dtElement=r.first)}},decls:6,vars:2,consts:[[1,"row"],["class","col-sm-6 feats-table",4,"ngIf"],[1,"col-sm-6"],[3,"feat",4,"ngIf"],[1,"col-sm-6","feats-table"],["id","tbl-feats","datatable","",1,"table","table-hover","table-condensed",3,"dtOptions","dtTrigger"],[1,"feat-filter"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["id","feat-name-filter","type","search","placeholder","Filter Feats",1,"form-control"],["id","feat-category-filter","type","search","placeholder","Category",1,"form-control"],["id","feat-bonus-filter","type","search","placeholder","ASI",1,"form-control"],["id","feat-source-filter","type","search","placeholder","Source",1,"form-control"],[1,"text-right"],[3,"table-active","click",4,"ngFor","ngForOf"],[3,"click"],["title",""],[3,"feat"]],template:function(n,a){1&n&&(t.j41(0,"h1"),t.EFF(1,"D&D 5e Feats"),t.k0s(),t.j41(2,"div",0),t.DNE(3,G,30,3,"div",1),t.j41(4,"div",2),t.DNE(5,T,1,1,"app-feat",3),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("ngIf",a.feats),t.R7$(2),t.Y8G("ngIf",a.currFeat))},dependencies:[l.Sq,l.bT,d._,f._,l.GH,b.c],styles:[".feat-filter[_ngcontent-%COMP%]{padding:0}"]})}return s})();const k=[{path:"",component:m},{path:":featName",component:m}];let E=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({imports:[u.iI.forChild(k),u.iI]})}return s})(),R=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({imports:[F.G,E]})}return s})()}}]);